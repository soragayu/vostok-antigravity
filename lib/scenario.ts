// Vostok シナリオデータ

export interface Character {
    id: number;
    name: string;
    role: string;
    description: string;
    color: string;
    image: string;
}

export interface Location {
    id: number;
    name: string;
    description: string;
    items: Item[];
}

export interface Item {
    id: number;
    name: string;
    description: string;
    locationId: number;
    stage: number; // 1: 最初の捜査, 2: 次の捜査
}

export interface Handout {
    characterId: number;
    type: 'initial' | 'additional';
    content: string;
}

// 4人のキャラクター
export const characters: Character[] = [
    {
        id: 1,
        name: 'ルナ',
        role: '操縦士',
        description: '強い責任感を持つ操縦士。上司から「地球外生命体の侵入」に関する極秘の警告を受けている。',
        color: '#d94a6a',
        image: '/images/char_1.png',
    },
    {
        id: 2,
        name: 'エウロパ',
        role: '船長',
        description: '基本的に明るく、物事を深く考えないタイプ。しかし二年以上前の記憶がないという秘密を持つ。',
        color: '#4a90d9',
        image: '/images/char_2.png',
    },
    {
        id: 3,
        name: 'イオ',
        role: '医師',
        description: '冷静沈着な医務官。その正体は擬態して潜り込んだ宇宙人であり、地球征服計画の偵察員。',
        color: '#4ad98a',
        image: '/images/char_3.png',
    },
    {
        id: 4,
        name: 'カレン',
        role: '宇宙飛行士',
        description: '任務に燃える宇宙飛行士。出発前から体に異変を感じており、仲間に言えない不安を抱えている。',
        color: '#f39c12',
        image: '/images/char_4.png',
    },
];

// プロローグ
export const prologue = `
私たちは――人類史上初の〈深宇宙有人航行計画〉に選ばれた、たった四人の宇宙飛行士。
名前は、ルナ、エウロパ、イオ、カレン。
長年の夢だった宇宙旅行は、いままさに最高潮を迎えるはずだった。

出発からほどなくして、船内に鋭いアラームが響き渡る。
原因は不明。
このままでは任務どころか、地球への帰還さえ危うい。

宇宙船が大気を離れ、星々のきらきらに包まれる頃。
私たちは互いの顔を見合わせる。
しかし、そのとき胸の奥をかすめた違和感。
見慣れたはずの仲員の顔が、ほんのわずか――どこか、いつもと違うような気がする。

無事に地球へ帰る――それが、この旅の唯一の目標だ。
`;

// 8箇所のロケーション
export const locations: Location[] = [
    {
        id: 1,
        name: '操縦室',
        description: '船の心臓部。モニターには多くのエラーが表示されている。',
        items: [
            { id: 0, name: 'アラームについて', description: '操縦室で管理しているアラームはどれもなっていない。どうやらエアロックの内扉で何かが作動し、なっているようだ。', locationId: 1, stage: 1 },
            { id: 1, name: '宇宙船の記録', description: '8:00 出発 / 8:40 船内安定 / 8:45 操縦室から機体の設定に変更 / 9:15 アラーム', locationId: 1, stage: 1 },
            { id: 8, name: '操縦室', description: '内側からカギがかかっていて中に入ることができない。', locationId: 1, stage: 2 },
        ],
    },
    {
        id: 2,
        name: '本部通信',
        description: '地球の本部との通信を行う場所。',
        items: [
            { id: 6, name: '軌道について', description: '軌道が変更されていることが発覚した。目的地は不明。', locationId: 2, stage: 1 },
            { id: 7, name: 'うんこ', description: 'うんこが散らばっている。', locationId: 2, stage: 1 },
            { id: 10, name: '宇宙人について', description: '電気に強いらしい。', locationId: 2, stage: 2 },
        ],
    },
    {
        id: 3,
        name: '倉庫',
        description: '備品が並ぶ。特殊な「麻酔銃」が保管されているという。',
        items: [
            { id: 2, name: '絵本', description: '「ほしからきたともだち」：地球の光を浴びすぎると力がなくなり命が消えてしまう宇宙人の物語。', locationId: 3, stage: 1 },
            { id: 3, name: 'スタンガン', description: 'サスペンスドラマでよく使われるあれだ。', locationId: 3, stage: 1 },
            { id: 11, name: '麻酔銃', description: '一発だけ入っている。', locationId: 3, stage: 2 },
        ],
    },
    {
        id: 4,
        name: 'エアロック',
        description: '唯一の出入り口。大きな窓から宇宙が見える。',
        items: [
            { id: 4, name: '出入りのログ', description: '8:20 エウロパ入室 / 9:15 カレン入室 / 9:15 カレン退室', locationId: 4, stage: 1 },
            { id: 5, name: '小さい箱', description: 'ラベルには地球では見たことない文字で何か書いてある。', locationId: 4, stage: 1 },
            { id: 9, name: 'トッポ', description: '最後までチョコたっぷりだ。', locationId: 4, stage: 2 },
        ],
    },
    {
        id: 5,
        name: 'トイレ',
        description: '特に怪しいところはない。',
        items: [],
    },
    {
        id: 6,
        name: '自室',
        description: 'プライベートな空間。',
        items: [],
    },
];

// 全アイテムを取得
export function getAllItems(): Item[] {
    return locations.flatMap(loc => loc.items);
}

// アイテムIDからアイテムを取得
export function getItemById(itemId: number): Item | undefined {
    return getAllItems().find(item => item.id === itemId);
}

// ハンドアウト
export const handouts: Handout[] = [
    // キャラクター1: ルナ
    {
        characterId: 1,
        type: 'initial',
        content: `わたしは、この船の操縦士として選ばれた。
打ち上げの日を迎えたとき、胸にあったのはただひとつ――無事に任務を果たし、仲間と共に地球へ帰還するという強い責任感だった。

離陸は成功した。
エアロックから窓の外に広がる深い宇宙を眺めながら、「本当に、みんなで宇宙に来ることができたんだ」と、静かな喜びを一人部屋で噛みしめていた。

けれど、わたしの胸には小さな不安があった。
打ち上げの一週間ほど前、上司からこっそり伝えられたことがあるのだ。

「この計画には外部からの妨害の可能性がある。
そのため、機体が安定した後、もし地球外の物質が宇宙船に入り込めば、エアロックのセンサーが感知し、警告アラームが鳴るよう設定してある」と。
「宇宙船の出入り口はエアロックしかなく、ドアはわたしたち乗員を認識して開く仕組みだ。通過ログも残る。」

この情報を知らされているのは、どうやらわたしだけらしい。
もしもの時は、わたしが仲間を守らなければ――その思いが、胸の奥で静かに熱を帯びていた。

8時40分、出発は順調。機体も安定し、張りつめていた緊張が少しほどけた。
自室でほっと息をついたのも束の間、疲れがどっと押し寄せ、そのまま眠り込んでしまったらしい。

突然、耳を裂くようなアラームが鳴り響いた。
嫌な予感が背筋を走る。
時計は9時15分。
わたしは跳ね起き、エアロックへと急いだ。
だが途中、カレと鉢合わせする。
「早く操縦室のモニターを確認しないと」
そう言われ、わたしたちは操縦室へ向かった――。

目的
・アラームの原因を突き止める。
・仲間を守る。

秘密
・上司から聞いたことは動揺を避けるために仲間には黙っていたい。`,
    },
    {
        characterId: 1,
        type: 'additional',
        content: `これほど仲の良かった私たちだが、捜査を進めるうちに─────
どこか、距離が少しずつ離れていくような気がしていた

イオが「一旦部屋に戻らない？」と提案し、
わたしたちはそれぞれの自室に戻ることにした。
部屋に向かう途中、廊下に黒い鳥のぬいぐるみが落ちていた。

部屋に戻ると、通信機が点滅していた。
本部からの指令だ。

「地球外生命体は我々の敵だ。それらは姿かたちを自由に変えることができるらしい。
侵入が確認された場合は即座に処分しろ」

淡々とした声が告げる。
倉庫には宇宙人用の特殊仕様の麻酔銃があり、それを使えばいいという。
さらに、船の軌道が元の設定から変更されているので、直ちに修正せよとの命令も下された。

まずはみんなと話し合いをしよう、そう思い操縦室へ向かったが、ドアに内側からカギがかかっていては入れない
いらだちよりも胸に広がったのは不安──────
このままでは全員が危険にさらされてしまう。

わたしはみんなを守りたい。
どんな真実が待っていようと、受け止める覚悟がある。
仲間を信じ、最後まで希望を捨てたりはしない。

目的
・全員で無事に帰還する事`,
    },
    // キャラクター2: エウロパ
    {
        characterId: 2,
        type: 'initial',
        content: `私は基本的に明るくって、物事を深く考えたりするタイプじゃない
しかしひとつだけ、人には言えない秘密がある。――実は二年以上前の記憶がぜんぜんないのだ。
家族のことも、生まれた場所も、過去の出来事も、何ひとつ思い出せない。
ただ、夜空を見上げるのが好きだったことだけが、遠い記憶のかけらのように胸に残っている。
だからだろうか、私は宇宙に惹かれた。宇宙に行けば、自分が何者なのか知る手がかりが見つかるような気がしていた。
記憶がなくても挑戦することをあきらめたくなくて、必死に訓練を積み重ねてきた。
そこで出会った仲間たちは、私にとって家族同然の存在になった。
みんなとなら、この果てしない宇宙の旅も怖くない！
打ち上げの日を迎えたとき、私は胸の奥から込み上げる喜びを抑えきれず、ただ夢中で仲間と共に船に乗り込んだ。

そういえば出発の前日、なんか変な出来事があった。
宇宙開発部の偉い人から突然呼び出され、
「ここでの暮らしをずいぶん楽しんでいるようだけど、目的を忘れてはいないだろうね。もしもの時のためだ、これを持っておくように」と、
黒い鳥のぬいぐるみを渡されたのだ。
理由は何も説明されなかった。
でもなんかすっごい怖い感じの人だったし、応援の言葉を無下にするのも気が引けたし、ちょっと可愛かったから私はそのぬいぐるみを受け取って、宇宙船の部屋に持ってきた。

そして今日。宇宙船が大気を離れ、星々のきらきらに包まれる頃、ドキドキを抑えきれずに、私はひとりで大きな窓のある出入り口へ向かった。
窓越しに広がる漆黒の宇宙は息を呑むほど美しく、しばらくその景色に見入っていた。
しばらくして自室へ戻ると、机に置いてあったはずの黒い鳥のぬいぐるみが忽然と消えていることに気づいた。
驚いて部屋の隅々まで探したが、全然見当たらない。
えーどうしよーまあいっか、と思ったそのときだった。
耳をつきさすようなアラームが船内に響き渡った。時計を見ると9時15分。
ぬいぐるみを探す手を止め、私は操縦室の方に走った。
仲間たちの顔が頭に浮かぶ。みんな無事でいてほしい。
それだけを願いながら走り続けた。

無事に地球へ帰る――それが私の願いであり、この旅の唯一の目標だ。
記憶のない私にとって、この仲間たちと過ごす時間こそが、自分がここに存在している証なのだから。

目的
・無事に地球に帰る。

隠し事
・特にない`,
    },
    {
        characterId: 2,
        type: 'additional',
        content: `これほど仲の良かった私たちなのに、捜査を重ねるうちに、
少しずつ距離ができてしまった気がする。
イオが「一旦部屋に戻らない？」と提案したから、
私たちはそれぞれの自室に戻ることにした。

自室のドアを閉めた瞬間、胸の奥がズキッと痛んだ。
さっきエアロックで見つけた小さな箱─────
そのラベルにかかれていた不思議な文字がなぜかすっと頭に入ってきた。
「スイッチ一つで爆発し、放出される毒ガスを浴びた人間は植物状態になる」
...読めるはずがないのに、意味が分かってしまった。
自分でも鳥肌が立った。

しかもその瞬間、ずっと奥に閉じ込めていた記憶が一気にあふれ出してきた。
2年前故郷のリーダーに言われたあの言葉─────
「地球に潜入し、スパイとして情報を持ち帰れ」
...あたしもしかして人間じゃない？

思い返せば、出発前に私を呼び出した宇宙開発部のエライ人も、どこか'同類'っぽい雰囲気だった。
そういえば、あれはいったい何だったんだろう。

そして、さらにもう一つ思い出した。
わたしは小さいころから'ちょっとおかしい'体質だった。
感情が大きく揺れると、体がふわっと透けて、そのまま服や装備ごと壁をすり抜けてしまう。
初めてそれが起きたとき、周りからめちゃくちゃ怖がられて、気づけば友達も離れていった。
「普通じゃない」────そう言われ、ずっと浮いた存在だった。
本当の居場所なんて感じたことがなかった。

...だからこそ、地球に来て、3人と出会い、笑いあえる時間がたまらなく好きだった。
地球に住みたい────心からそう思う自分がいる。

こんな秘密怖くて誰にも話せなかったけれど...
この3人なら、受け止めてくれるかもしれない。
信じて話してみてもいいのかな─────。

目的
・仲間と一緒に地球に変える`,
    },
    // キャラクター3: イオ
    {
        characterId: 3,
        type: 'initial',
        content: `わたしは宇宙人だ。
人間の姿に擬態し、この船に乗り込んだ。

故郷の星では、地球征服計画が着々と進められている。
わたしはその偵察のために地球に潜り込み、人間として暮らしてきた――そのはずだった。

地球に到着したあの日、任務の始まりを告げるはずの出来事が、思わぬ形でわたしを揺さぶった。
海面に降ろした自前の宇宙船が、触れた瞬間に音もなく溶け崩れたのだ。
故郷には存在しない「水」。その水こそが、船の素材を一瞬で破壊するとは。
そのとき、わたしは悟った。
この星には、自分たちが知らない脅威と、美しさがある――。

わたしたちの種族は、故郷を長く離れると生命力を失っていく。
いずれ力は枯れ、死に至る。
地球に永く留まることは、命を削ることと同義だ。
だからこそ、わたしは宇宙飛行士になることを決めた。宇宙船の軌道を変え、故郷へ帰る。
それが唯一の生存手段。

……けれど、心は迷い続けている。
訓練の日々で出会った仲間たち。
人間の優しさ、あたたかさ、そして地球という星の儚さ。
気づけば、わたしは地球を愛してしまっていた。
本当は、もうずっとここで生きていたい。
だが、近頃は体が重く、内側から力が抜けていくのを感じる。
このままでは、そう長くはもたないだろう。

――朝、8時30分。
わたしは宇宙飛行士３と操縦室で作業をしていた。
軌道を故郷行きに変えたい。だが、カレがそばにいては手を出せない。
どうやって一人になるか考えていた矢先、カレが突然バランスを崩した。
体に力が入らないような、奇妙な動き――どこか既視感を覚え、胸がざわつく。
体調が悪いのか、それとも緊張のせいか。カレは「少し部屋に戻る」と告げ、操縦室を後にした。

今だ。

わたしはすぐに軌道変更を始め、故郷行きのルートを入力した。
完了を確認し、動きをモニターで見守っていたそのとき――
耳を裂くアラームが鳴り響いた。9時15分。
軌道設定によるエラーかと一瞬血の気が引くが、表示に異常はない。
原因を探ろうとモニターを調べていると扉が開き、エウロパが入室してきた。
そのすぐ後にルナとカレも駆け込み、操縦室には全員がそろった。

目的
・無事に故郷へ帰還すること。

隠し事
・すでに宇宙船の軌道を変更した。元に戻す前に仲間が操縦室に集まってしまい、このことを隠し通さなければならない。
この事実が知られれば、理由を問われ、軌道は元に戻されてしまうだろう。`,
    },
    {
        characterId: 3,
        type: 'additional',
        content: `これほど仲の良かったわたしたちだが、捜査が進むにつれて─────
どこかみんなと距離が遠くなっていくような気がしていた。

地球外生命体はわたしだ。
その事実が胸を締め付ける。
私の存在がみんなに迷惑をかけている...。
申し訳なさに耐えきれず、みんなと顔を合わせていられなくなり、
「一旦部屋に戻らない？」と提案した。
それから私たちは、それぞれの自室に戻った。
部屋に向かう途中、廊下に黒い鳥のぬいぐるみが落ちていた。

わたしが何とかしなければ。
自室に戻り、先ほどエアロックで見つけた小さな箱について考えていた。
実はあのラベルにかかれた文字は、最初から読めていた。
─────「スイッチ一つで爆発し、放出される毒ガスを浴びた人間は植物状態になる」
そう書かれていたのだ。

その文字はわたしの故郷でしか使われない言語だった。
なぜこんなものが船に？
だれが何のために持ち込んだのか？

仲間に伝えるべきか、それとも黙っていた方がいいのか。
爆弾は誰のものなのか。そしてスイッチはどこにあるのか─────。
疑問が静かに心を締め付ける。

目的
・爆弾の持ち主を突き止める
・仲間を守る`,
    },
    // キャラクター4: カレン
    {
        characterId: 4,
        type: 'initial',
        content: `わたしは宇宙飛行士として、この任務に挑むためにここへ来た。
長い訓練の中で、かけがえのない仲間たちと出会い、共に汗を流してきた日々。
地球という星の青さも、人類の未来も、守りたい――
その想いこそが、わたしをこの船へと導いた。

けれど、出発前から体に小さな異変を感じていた。
時折、重くなる四肢。思い通りに動かない感覚。
不安を覚え、こっそり検査を受けても、結果はいつも「異常なし」。
理由がわからないまま、わたしは訓練を続けた。
仲間に打ち明ければ、きっと心配され、任務から降りるよう説得されるだろう。
その優しさを知っているからこそ、何も言えない。
――この四人と、もっと一緒にいたい。ただそれだけなのに。

8時30分頃、わたしはイオと共に操縦室で作業をしていた。
しかし突然、体の奥から力が抜け、視界がかすむ。
床に手をつき、しゃがみ込むしかなかった。
イオの心配する声が遠くに聞こえる。
これ以上仲間に知られてはいけない。
「少し部屋で休む」そう告げて操縦室を後にし、ひとり自室へ戻った。

ベッドに腰を下ろすと、張りつめた緊張が一気にほどけ、いつのまにか眠ってしまったらしい。
目を覚ますと、9時10分。
どれほど地球から離れただろう――外の景色を確かめたくて、
大きな窓のあるエアロックへ足を運んだ、その瞬間。
耳を切り裂くようなアラームが船内に鳴り響いた。
驚きに胸が跳ね、操縦室へ駆けだす。
途中でルナに出会い、共に急ぐ。
そのとき、ふと違和感がよぎった。
――あれ？ルナは、操縦室とは反対方向に向かっていたような……。

操縦室にはすでに全員がそろっていた。
イオによれば、アラームの原因はまだ不明とのこと。
胸の奥で微かな不安がうずまく。
体の重さは、ただの疲れなのだろうか――。

目的
・仲間と無事に地球へ帰還すること。

隠し事
・体に時折重さを感じ、思うように動かせないことがある。
もし仲間に知られれば、宇宙飛行士を降ろされるかもしれない。
だから、黙っていよう。`,
    },
    {
        characterId: 4,
        type: 'additional',
        content: `これほど仲の良かった私たちだが、捜査を進めるうちに─────
どこか、距離が少しずつ離れていくような気がしていた

部屋に戻った私は、エアロックで見つけた小さな箱のラベルを思い出していた。
なぜか、知らないはずの文字が私には読めたのだ。
──────「スイッチ一つで爆発し、放出される毒ガスを浴びた人間は植物状態になる」
その意味を理解した瞬間、背筋が凍り付く。

なぜ読めた？わたしはいったい何者なのか
さっき鳴り響いたアラームも、もしかしたらわたしが原因なのでは──────
疑念が胸を締め付ける。苦しい。脳裏に浮かぶのは、どこにも属さない自分の姿。
記憶と同時に体のかけらが霧のようにほどけ、現実が遠ざかっていく。
気が付いたらくまのぬいぐるみに擬態していた。やはり私は人間ではないようだ。

現実を受け止め、深呼吸をする。落ち着きを取り戻すと体は人間のように戻っていた。

アラームが鳴った時の記憶を必死にたどる。
あの時、私は確かにエアロックに足を運んだ。
そのとき、小さな箱─────爆弾はあっただろうか。思い出せない。
そうだ、視界の端に黒い影がよぎった気がする。
あれはいったい何だったのか。気のせいなのか──────

目的
・アラームの原因を突き止める
・仲間を守る`,
    },
];

// キャラクターIDからハンドアウトを取得
export function getHandouts(characterId: number, includeAdditional: boolean): Handout[] {
    return handouts.filter(h =>
        h.characterId === characterId &&
        (h.type === 'initial' || (includeAdditional && h.type === 'additional'))
    );
}

// 正解（投票用）
export const correctAnswer = {
    who: 2,        // 犯人: エウロパ (ID: 2)
    where: 1,      // 場所: 操縦室 (ID: 1)
    what: 11,      // 凶器: 麻酔銃 (ID: 11)
    toWhom: 99,    // 被害者: その他 (ID: 99)
};
